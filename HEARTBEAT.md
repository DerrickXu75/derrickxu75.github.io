# HEARTBEAT.md - 心跳任务清单

> 💡 **设计原则**：批量检查、智能抑制、保持简洁
> 📌 **规则**：如果一切正常，回复 `HEARTBEAT_OK`，不打扰用户

---

## 🕐 每次心跳执行（批量检查）

### 1. 子代理状态检查
- [ ] 检查是否有子代理任务完成需要汇总
- [ ] 检查是否有后台任务需要派发

### 2. 记忆整理（快速操作）
- [ ] 快速扫描 memory/YYYY-MM-DD.md
- [ ] 如果有重要信息，更新 MEMORY.md

### 3. 检查 Cron 任务
- [ ] 检查是否有定时任务需要创建

---

## 📅 每日心跳（北京时间 9:00 执行）

> 使用 Cron 任务实现，不放在心跳里

---

## ⚡ 心跳规则

1. **正常情况**：所有检查通过 → 回复 `HEARTBEAT_OK`
2. **发现问题**：需要用户关注 → 发送简短提醒
3. **避免打扰**：同一问题 24 小时内不重复提醒

---

## 🔧 配置说明

心跳间隔在 `openclaw.json` 中配置：
```json
{
  "agents": {
    "defaults": {
      "heartbeat": {
        "every": "30m",
        "activeHours": { "start": "09:00", "end": "23:00" },
        "target": "last"
      }
    }
  }
}
```

---

## 📝 维护日志

- **2026-02-26**：重新设计心跳系统，从空的清单改为批量检查模式